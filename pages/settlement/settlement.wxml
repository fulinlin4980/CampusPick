<view class="container">
    
    <view class="settlement-card">
        
        <view class="header-status">
            <text class="status-icon">âœ…</text>
            <text class="status-text">ä»»åŠ¡å·²é€è¾¾ï¼Œè¯·ç¡®è®¤ç»“ç®—</text>
        </view>
        
        <view class="section-title">è®¢å•è¯¦æƒ…</view>
        
        <view class="info-cell">
            <text class="cell-label">ä»»åŠ¡ ID:</text>
            <text class="cell-content primary">{{order.id}}</text>
        </view>
        <view class="info-cell multiline">
            <text class="cell-label">æè¿°:</text>
            <text class="cell-content">{{order.description}}</text>
        </view>

    </view>
    
    <view class="settlement-card">
        <view class="section-title">è·‘è…¿å‘˜ä¿¡æ¯</view>
        
        <view class="info-cell">
            <text class="cell-label">å§“å:</text>
            <text class="cell-content">ğŸ‘¤ {{order.runnerName || 'æœªçŸ¥è·‘è…¿å‘˜'}}</text>
        </view>
        <view class="info-cell no-border">
            <text class="cell-label">è”ç³»æ–¹å¼:</text>
            <text class="cell-content contact-info">ğŸ“ {{order.runnerContact || 'æ— '}}</text>
        </view>
    </view>

    <view class="settlement-card">
        <view class="section-title">é€è¾¾å‡­è¯</view>
        
        <view class="photo-wrapper" bindtap="previewImage">
            <image wx:if="{{order.photoBase64}}" 
                   class="delivery-image" 
                   src="data:image/jpeg;base64,{{order.photoBase64}}" 
                   mode="aspectFill" />
            <view wx:else class="placeholder-image">ï¼ˆç‚¹å‡»æŸ¥çœ‹å¤§å›¾ï¼‰</view>
        </view>
        
        <view wx:if="{{order.remarks}}" class="remarks-box">
            <text class="remarks-label">å¤‡æ³¨ï¼š</text>
            <text class="remarks-content">{{order.remarks}}</text>
        </view>
    </view>

    <view class="bottom-bar">
        <view class="price-display">
            <text class="price-label">æœ¬æ¬¡ç»“ç®—ä½£é‡‘ï¼š</text>
            <text class="price-value large">Â¥{{order.price ? order.price.toFixed(2) : '0.00'}}</text>
        </view>
        <button 
            class="confirm-btn" 
            bindtap="confirmSettlement" 
            loading="{{isSubmitting}}"
            disabled="{{!order.id || isSubmitting}}"
        >
            {{isSubmitting ? 'ç»“ç®—ä¸­...' : 'ç¡®è®¤ç»“ç®—å¹¶å®Œæˆè®¢å•'}}
        </button>
    </view>
</view>